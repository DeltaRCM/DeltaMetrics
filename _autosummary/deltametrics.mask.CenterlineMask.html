
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>deltametrics.mask.CenterlineMask &#8212; DeltaMetrics 0.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Channel Mobility Functions" href="../reference/mobility/index.html" />
    <link rel="prev" title="deltametrics.mask.EdgeMask" href="deltametrics.mask.EdgeMask.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../reference/mobility/index.html" title="Channel Mobility Functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="deltametrics.mask.EdgeMask.html" title="deltametrics.mask.EdgeMask"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">DeltaMetrics 0.1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/mask/index.html" accesskey="U">Masking operations</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="deltametrics.mask.EdgeMask.html"
                        title="previous chapter">deltametrics.mask.EdgeMask</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../reference/mobility/index.html"
                        title="next chapter">Channel Mobility Functions</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/_autosummary/deltametrics.mask.CenterlineMask.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="deltametrics-mask-centerlinemask">
<h1>deltametrics.mask.CenterlineMask<a class="headerlink" href="#deltametrics-mask-centerlinemask" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="deltametrics.mask.CenterlineMask">
<em class="property">class </em><code class="descclassname">deltametrics.mask.</code><code class="descname">CenterlineMask</code><span class="sig-paren">(</span><em>channelmask</em>, <em>is_mask=False</em>, <em>method='skeletonize'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mask.CenterlineMask" title="Permalink to this definition">¶</a></dt>
<dd><p>Identify channel centerline mask.</p>
<p>A centerline mask object, provides the location of channel centerlines.</p>
<p class="rubric">Examples</p>
<dl>
<dt>Initialize the centerline mask</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">channelmask</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">ChannelMask</span><span class="p">(</span><span class="n">rcm8cube</span><span class="p">[</span><span class="s1">&#39;velocity&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:],</span>
<span class="go">                                      rcm8cube[&#39;eta&#39;][-1, :, :])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clmsk</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">CenterlineMask</span><span class="p">(</span><span class="n">channelmask</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Visualize the mask</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">clmsk</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
<p>(<a class="reference external" href="../pyplots/mask/centerlinemask.png">png</a>, <a class="reference external" href="../pyplots/mask/centerlinemask.hires.png">hires.png</a>)</p>
<div class="figure align-center">
<img alt="../_images/centerlinemask.png" src="../_images/centerlinemask.png" />
</div>
<dl class="method">
<dt id="deltametrics.mask.CenterlineMask.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>channelmask</em>, <em>is_mask=False</em>, <em>method='skeletonize'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mask.CenterlineMask.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the CenterlineMask.</p>
<p>Initialization of the centerline mask object requires a 2-D channel
mask (can be the <a class="reference internal" href="deltametrics.mask.ChannelMask.html#deltametrics.mask.ChannelMask" title="deltametrics.mask.ChannelMask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ChannelMask</span></code></a> object or a binary 2-D array).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channelmask</strong> (<a class="reference internal" href="deltametrics.mask.ChannelMask.html#deltametrics.mask.ChannelMask" title="deltametrics.mask.ChannelMask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ChannelMask</span></code></a> or ndarray) – The channel mask to derive the centerlines from</p></li>
<li><p><strong>is_mask</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the data in <code class="xref py py-obj docutils literal notranslate"><span class="pre">arr</span></code> is already a binary mask. Default
value is False. This should be set to True, if you have already
binarized the data yourself, using custom routines, and want to
just store the data in the CenterlineMask object.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – The method to use for the centerline mask computation. The default
method (‘skeletonize’) is a morphological skeletonization of the
channel mask.</p></li>
</ul>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><p><strong>kwargs</strong> (<em>optional</em>) – Keyword arguments for the ‘rivamap’ functionality.</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-center">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#deltametrics.mask.CenterlineMask.__init__" title="deltametrics.mask.CenterlineMask.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(channelmask[, is_mask, method])</p></td>
<td><p>Initialize the CenterlineMask.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#deltametrics.mask.CenterlineMask.compute_centerlinemask" title="deltametrics.mask.CenterlineMask.compute_centerlinemask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_centerlinemask</span></code></a>(**kwargs)</p></td>
<td><p>Compute the centerline mask.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#deltametrics.mask.CenterlineMask.show" title="deltametrics.mask.CenterlineMask.show"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show</span></code></a>([t])</p></td>
<td><p>Show the mask.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-center">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#deltametrics.mask.CenterlineMask.data" title="deltametrics.mask.CenterlineMask.data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code></a></p></td>
<td><p>Values of the mask object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#deltametrics.mask.CenterlineMask.mask" title="deltametrics.mask.CenterlineMask.mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mask</span></code></a></p></td>
<td><p>Binary mask values.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="deltametrics.mask.CenterlineMask.compute_centerlinemask">
<code class="descname">compute_centerlinemask</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mask.CenterlineMask.compute_centerlinemask" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the centerline mask.</p>
<p>Function for computing the centerline mask. The default implementation
is a morphological skeletonization operation using the
<cite>skimage.morphology.skeletonize</cite> function.</p>
<p>Alternatively, the method of  centerline extraction based on non-maxima
suppression of the singularity index, as described in <a class="footnote-reference brackets" href="#id2" id="id1">3</a> can be
specified. This requires the optional dependency <a class="reference external" href="https://github.com/isikdogan/rivamap">RivaMap</a>.</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets">3</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id3">2</a>,<a href="#id4">3</a>)</span></dt>
<dd><p>Isikdogan, Furkan, Alan Bovik, and Paola Passalacqua. “RivaMap:
An automated river analysis and mapping engine.” Remote Sensing
of Environment 202 (2017): 88-97.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Other Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minScale</strong> (<em>float, optional</em>) – Minimum scale to use for the singularity index extraction, see <a class="footnote-reference brackets" href="#id2" id="id3">3</a></p></li>
<li><p><strong>nrScales</strong> (<em>int, optional</em>) – Number of scales to use for singularity index, see <a class="footnote-reference brackets" href="#id2" id="id4">3</a></p></li>
<li><p><strong>nms_threshold</strong> (<em>float between 0 and 1, optional</em>) – Threshold to convert the non-maxima suppression results into a
binary mask. Default value is 0.1 which means that the lowest 10%
non-maxima suppression values are ignored when making the binary
centerline mask.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="deltametrics.mask.CenterlineMask.data">
<code class="descname">data</code><a class="headerlink" href="#deltametrics.mask.CenterlineMask.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Values of the mask object.</p>
<p>In setter, we should sanitize the inputs (enforce range 0-1) and
convert everything to uints for speed and size.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="deltametrics.mask.CenterlineMask.mask">
<code class="descname">mask</code><a class="headerlink" href="#deltametrics.mask.CenterlineMask.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary mask values.</p>
<p>Read-only mask attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deltametrics.mask.CenterlineMask.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>t=-1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mask.CenterlineMask.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>int</em><em>, </em><em>optional</em>) – Value of time slice or integer from first dimension in 3D (t-x-y)
convention to display the mask from. Default is -1 so the ‘final’
mask in time is displayed if this argument is not supplied.</p></li>
<li><p><strong>**kwargs to matplotlib.imshow.</strong> (<em>Passes</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../reference/mobility/index.html" title="Channel Mobility Functions"
             >next</a> |</li>
        <li class="right" >
          <a href="deltametrics.mask.EdgeMask.html" title="deltametrics.mask.EdgeMask"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">DeltaMetrics 0.1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/mask/index.html" >Masking operations</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, The DeltaRCM Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
  </body>
</html>