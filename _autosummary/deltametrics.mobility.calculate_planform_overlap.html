<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>deltametrics.mobility.calculate_planform_overlap &#8212; DeltaMetrics 0.4.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinxdoc.css?v=d59dc883" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=ff822928"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="deltametrics.mobility.calculate_reworking_fraction" href="deltametrics.mobility.calculate_reworking_fraction.html" />
    <link rel="prev" title="deltametrics.mobility.calculate_channel_decay" href="deltametrics.mobility.calculate_channel_decay.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="deltametrics.mobility.calculate_reworking_fraction.html" title="deltametrics.mobility.calculate_reworking_fraction"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="deltametrics.mobility.calculate_channel_decay.html" title="deltametrics.mobility.calculate_channel_decay"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">DeltaMetrics 0.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/mobility/index.html" accesskey="U">Channel mobility operations</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">deltametrics.mobility.calculate_planform_overlap</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="deltametrics-mobility-calculate-planform-overlap">
<h1>deltametrics.mobility.calculate_planform_overlap<a class="headerlink" href="#deltametrics-mobility-calculate-planform-overlap" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="deltametrics.mobility.calculate_planform_overlap">
<span class="sig-prename descclassname"><span class="pre">deltametrics.mobility.</span></span><span class="sig-name descname"><span class="pre">calculate_planform_overlap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chmap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">landmap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basevalues</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basevalues_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mobility.calculate_planform_overlap" title="Link to this definition">¶</a></dt>
<dd><p>Calculate channel planform overlap.</p>
<p>This metric is calculated per Wickert et al 2013 <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> and measures
the loss of channel system overlap with previous channel patterns.
This requires an input channel map, land map, as well as defining the base
maps to use and the time window over which you want to look.</p>
<p>The normalized overlap is calculated as:</p>
<div class="math notranslate nohighlight">
\[O_\Phi = 1 - \left( \frac{D}{A \cdot \Phi} \right)\]</div>
<p>where <span class="math notranslate nohighlight">\(D\)</span> is the number of chaneged pixels between the base and
target maps, <span class="math notranslate nohighlight">\(A\)</span> is the total number of pixels in a single map,
and <span class="math notranslate nohighlight">\(\Phi\)</span> is a random scatter parameter.</p>
<p><span class="math notranslate nohighlight">\(D\)</span> is calculated as:</p>
<div class="math notranslate nohighlight">
\[D(B, T) = \sum\limits^{m_r}_{i=1} \sum\limits^{n_c}_{j=1} \left| K_B - K_T \right|\]</div>
<p>where <span class="math notranslate nohighlight">\(K_B\)</span> and <span class="math notranslate nohighlight">\(K_T\)</span> are the channel mask values at the base
and target maps, respectively.</p>
<p><span class="math notranslate nohighlight">\(\Phi\)</span> is calculated as:</p>
<div class="math notranslate nohighlight">
\[\Phi = f_{w,B} \cdot f_{d,T} + f_{d,B} \cdot f_{w,T}\]</div>
<p>where <span class="math notranslate nohighlight">\(f_{w,B}\)</span> is the fraction of water pixels in the base map,
<span class="math notranslate nohighlight">\(f_{d,B}\)</span> is the fraction of dry pixels in the base map,
<span class="math notranslate nohighlight">\(f_{w,T}\)</span> is the fraction of water pixels in the target map, and
<span class="math notranslate nohighlight">\(f_{d,T}\)</span> is the fraction of dry pixels in the target map.</p>
<p>The calculation of <span class="math notranslate nohighlight">\(O_\Phi\)</span> is conducted between the base map(s) and
channel maps (target maps) at each time lag for the duration of the
time window specified. When multiple base maps are used, this calculation
is conducted for each base map and its corresponding target maps, and
the results are returned as an array in which each row represents the
overlap results for a given base map. Each column represents the overlap
results for a given time lag relative to the base map.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Wickert, Andrew D., John M. Martin, Michal Tal, Wonsuck Kim,
Ben Sheets, and Chris Paola. “River channel lateral mobility:
Metrics, time scales, and controls.” Journal of Geophysical
Research: Earth Surface 118, no. 2 (2013): 396-412.</p>
</aside>
</aside>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chmap</strong> (<em>list</em><em>, </em><em>xarray.DataArray</em><em>, </em><em>numpy.ndarray</em>) – Either a list of 2-D deltametrics.mask, xarray.DataArray, or
numpy.ndarray objects, or a t-x-y 3-D xarray.DataArray or numpy.ndarray
with channel mask values.</p></li>
<li><p><strong>landmap</strong> (<em>list</em><em>, </em><em>xarray.DataArray</em><em>, </em><em>numpy.ndarray</em>) – Either a list of 2-D deltametrics.mask, xarray.DataArray, or
numpy.ndarray objects, or a t-x-y 3-D xarray.DataArray or numpy.ndarray
with land mask values.</p></li>
<li><p><strong>basevalues</strong> (<em>list</em><em>, </em><em>int</em><em>, </em><em>float</em><em>, </em><em>optional</em>) – List of time values to use as the base channel map. (or single value)</p></li>
<li><p><strong>basevalues_idx</strong> (<em>list</em><em>, </em><em>optional</em>) – List of time indices to use as the base channel map. (or single value)</p></li>
<li><p><strong>window</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>optional</em>) – Duration of time to use as the time lag (aka how far from the basemap
will be analyzed).</p></li>
<li><p><strong>window_idx</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>optional</em>) – Duration of time in terms of indices (# of save states) to use as the
time lag.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Ophi</strong> – A 2-D array of the normalized overlap values, array is of shape
len(basevalues) x time_window so each row in the array represents
the overlap values associated with a given base value and the
columns are associated with each time lag.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">deltametrics.mobility.calculate_planform_overlap</a><ul>
<li><a class="reference internal" href="#deltametrics.mobility.calculate_planform_overlap"><code class="docutils literal notranslate"><span class="pre">calculate_planform_overlap()</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="deltametrics.mobility.calculate_channel_decay.html"
                          title="previous chapter">deltametrics.mobility.calculate_channel_decay</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="deltametrics.mobility.calculate_reworking_fraction.html"
                          title="next chapter">deltametrics.mobility.calculate_reworking_fraction</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/_autosummary/deltametrics.mobility.calculate_planform_overlap.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="deltametrics.mobility.calculate_reworking_fraction.html" title="deltametrics.mobility.calculate_reworking_fraction"
             >next</a> |</li>
        <li class="right" >
          <a href="deltametrics.mobility.calculate_channel_decay.html" title="deltametrics.mobility.calculate_channel_decay"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">DeltaMetrics 0.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/mobility/index.html" >Channel mobility operations</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">deltametrics.mobility.calculate_planform_overlap</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2020, The DeltaRCM Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>