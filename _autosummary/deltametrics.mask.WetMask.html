
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>deltametrics.mask.WetMask &#8212; DeltaMetrics 0.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="deltametrics.mask.LandMask" href="deltametrics.mask.LandMask.html" />
    <link rel="prev" title="deltametrics.mask.ChannelMask" href="deltametrics.mask.ChannelMask.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="deltametrics.mask.LandMask.html" title="deltametrics.mask.LandMask"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="deltametrics.mask.ChannelMask.html" title="deltametrics.mask.ChannelMask"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">DeltaMetrics 0.1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/mask/index.html" accesskey="U">Masking operations</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="deltametrics.mask.ChannelMask.html"
                        title="previous chapter">deltametrics.mask.ChannelMask</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="deltametrics.mask.LandMask.html"
                        title="next chapter">deltametrics.mask.LandMask</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/_autosummary/deltametrics.mask.WetMask.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="deltametrics-mask-wetmask">
<h1>deltametrics.mask.WetMask<a class="headerlink" href="#deltametrics-mask-wetmask" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="deltametrics.mask.WetMask">
<em class="property">class </em><code class="descclassname">deltametrics.mask.</code><code class="descname">WetMask</code><span class="sig-paren">(</span><em>arr</em>, <em>angle_threshold=75</em>, <em>is_mask=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mask.WetMask" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the wet mask.</p>
<p>A wet mask object, identifies all wet pixels on the delta topset. Starts
with the land mask and then uses the topo_threshold defined for the
shoreline computation to add the wet pixels on the topset back to the mask.</p>
<p>If a land mask has already been computed, then it can be used to define the
wet mask. Otherwise the wet mask can be computed from scratch.</p>
<p class="rubric">Examples</p>
<dl>
<dt>Initialize the wet mask</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">rcm8cube</span><span class="p">[</span><span class="s1">&#39;eta&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wmsk</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">WetMask</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>And visualize the mask:</dt><dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wmsk</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd>
</dl>
<p>(<a class="reference external" href="../pyplots/mask/wetmask.png">png</a>, <a class="reference external" href="../pyplots/mask/wetmask.hires.png">hires.png</a>)</p>
<div class="figure align-center">
<img alt="../_images/wetmask.png" src="../_images/wetmask.png" />
</div>
<dl class="method">
<dt id="deltametrics.mask.WetMask.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>arr</em>, <em>angle_threshold=75</em>, <em>is_mask=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mask.WetMask.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the WetMask.</p>
<p>Intializing the wet mask requires either a 2-D array of data, or it
can be computed if a <a class="reference internal" href="deltametrics.mask.LandMask.html#deltametrics.mask.LandMask" title="deltametrics.mask.LandMask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LandMask</span></code></a> has been previously computed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>ndarray</em>) – The data array to make the mask from.</p></li>
<li><p><strong>angle_threshold</strong> (<em>int</em><em>, </em><em>optional</em>) – Threshold opening angle used in the OAM. Default is 75 degrees.</p></li>
<li><p><strong>is_mask</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the data in <code class="xref py py-obj docutils literal notranslate"><span class="pre">arr</span></code> is already a binary mask. Default is
False. This should be set to True, if you have already binarized
the data yourself, using custom routines, and want to just store
the data in the WetMask object.</p></li>
</ul>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>landmask</strong> (<a class="reference internal" href="deltametrics.mask.LandMask.html#deltametrics.mask.LandMask" title="deltametrics.mask.LandMask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LandMask</span></code></a>, optional) – A <a class="reference internal" href="deltametrics.mask.LandMask.html#deltametrics.mask.LandMask" title="deltametrics.mask.LandMask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LandMask</span></code></a> object with a defined binary shoreline mask.
If given, the <a class="reference internal" href="deltametrics.mask.LandMask.html#deltametrics.mask.LandMask" title="deltametrics.mask.LandMask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LandMask</span></code></a> object will be checked for the
<cite>shore_image</cite> and <cite>angle_threshold</cite> attributes.</p></li>
<li><p><strong>kwargs</strong> (<em>optional</em>) – Keyword arguments for <a class="reference internal" href="#deltametrics.mask.WetMask.compute_shoremask" title="deltametrics.mask.WetMask.compute_shoremask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_shoremask</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-center">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#deltametrics.mask.WetMask.Seaangles_mod" title="deltametrics.mask.WetMask.Seaangles_mod"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Seaangles_mod</span></code></a>(numviews, thresholdimg)</p></td>
<td><p>Extract the opening angle map from an image.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#deltametrics.mask.WetMask.__init__" title="deltametrics.mask.WetMask.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(arr[, angle_threshold, is_mask])</p></td>
<td><p>Initialize the WetMask.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#deltametrics.mask.WetMask.compute_shoremask" title="deltametrics.mask.WetMask.compute_shoremask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_shoremask</span></code></a>([angle_threshold])</p></td>
<td><p>Compute the shoreline mask.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#deltametrics.mask.WetMask.compute_wetmask" title="deltametrics.mask.WetMask.compute_wetmask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_wetmask</span></code></a>(**kwargs)</p></td>
<td><p>Compute the WetMask.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#deltametrics.mask.WetMask.show" title="deltametrics.mask.WetMask.show"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show</span></code></a>([t])</p></td>
<td><p>Show the mask.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-center">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#deltametrics.mask.WetMask.data" title="deltametrics.mask.WetMask.data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code></a></p></td>
<td><p>Values of the mask object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#deltametrics.mask.WetMask.mask" title="deltametrics.mask.WetMask.mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mask</span></code></a></p></td>
<td><p>Binary mask values.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="deltametrics.mask.WetMask.Seaangles_mod">
<code class="descname">Seaangles_mod</code><span class="sig-paren">(</span><em>numviews</em>, <em>thresholdimg</em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mask.WetMask.Seaangles_mod" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the opening angle map from an image.</p>
<p>Adapted from the Matlab implementation in <a class="footnote-reference brackets" href="#id5" id="id1">2</a>. Takes an image
and extracts its opening angle map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numviews</strong> (<em>int</em>) – Defines the number of times to ‘look’ for the opening angle map.</p></li>
<li><p><strong>thresholdimg</strong> (<em>ndarray</em>) – Binary image that has been thresholded to split deep water/land.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>shoreangles</strong> (<em>ndarray</em>) – Flattened values corresponding to the shoreangle detected for each
‘look’ of the opening angle method</p></li>
<li><p><strong>seaangles</strong> (<em>ndarray</em>) – Flattened values corresponding to the ‘sea’ angle detected for each
‘look’ of the opening angle method. The ‘sea’ region is the convex
hull which envelops the shoreline as well as the delta interior.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deltametrics.mask.WetMask.compute_shoremask">
<code class="descname">compute_shoremask</code><span class="sig-paren">(</span><em>angle_threshold=75</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mask.WetMask.compute_shoremask" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the shoreline mask.</p>
<p>Applies the opening angle method <a class="footnote-reference brackets" href="#id4" id="id2">1</a> to compute the shoreline mask.
Particular method has been translated from <a class="footnote-reference brackets" href="#id5" id="id3">2</a>.</p>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id2">1</a></span></dt>
<dd><p>Shaw, John B., et al. “An image‐based method for
shoreline mapping on complex coasts.” Geophysical Research Letters
35.12 (2008).</p>
</dd>
<dt class="label" id="id5"><span class="brackets">2</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id3">2</a>)</span></dt>
<dd><p>Liang, Man, Corey Van Dyk, and Paola Passalacqua.
“Quantifying the patterns and dynamics of river deltas under
conditions of steady forcing and relative sea level rise.” Journal
of Geophysical Research: Earth Surface 121.2 (2016): 465-496.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>angle_threshold</strong> (<em>int</em><em>, </em><em>optional</em>) – Threshold opening angle used in the OAM. Default is 75 degrees.</p>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>topo_threshold</strong> (<em>float, optional</em>) – Threshold depth to use for the OAM. Default is -0.5.</p></li>
<li><p><strong>numviews</strong> (<em>int, optional</em>) – Defines the number of times to ‘look’ for the OAM. Default is 3.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deltametrics.mask.WetMask.compute_wetmask">
<code class="descname">compute_wetmask</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mask.WetMask.compute_wetmask" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the WetMask.</p>
<p>Either recomputes the landmask, or uses precomputed information from
the landmask to create the wetmask.</p>
</dd></dl>

<dl class="attribute">
<dt id="deltametrics.mask.WetMask.data">
<code class="descname">data</code><a class="headerlink" href="#deltametrics.mask.WetMask.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Values of the mask object.</p>
<p>In setter, we should sanitize the inputs (enforce range 0-1) and
convert everything to uints for speed and size.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="deltametrics.mask.WetMask.mask">
<code class="descname">mask</code><a class="headerlink" href="#deltametrics.mask.WetMask.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary mask values.</p>
<p>Read-only mask attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deltametrics.mask.WetMask.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>t=-1</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mask.WetMask.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>int</em><em>, </em><em>optional</em>) – Value of time slice or integer from first dimension in 3D (t-x-y)
convention to display the mask from. Default is -1 so the ‘final’
mask in time is displayed if this argument is not supplied.</p></li>
<li><p><strong>**kwargs to matplotlib.imshow.</strong> (<em>Passes</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="deltametrics.mask.LandMask.html" title="deltametrics.mask.LandMask"
             >next</a> |</li>
        <li class="right" >
          <a href="deltametrics.mask.ChannelMask.html" title="deltametrics.mask.ChannelMask"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">DeltaMetrics 0.1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/mask/index.html" >Masking operations</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, The DeltaRCM Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
  </body>
</html>