<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>deltametrics.strat.compute_net_to_gross &#8212; DeltaMetrics 0.4.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinxdoc.css?v=d59dc883" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=ff822928"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="deltametrics.strat.compute_thickness_surfaces" href="deltametrics.strat.compute_thickness_surfaces.html" />
    <link rel="prev" title="deltametrics.strat.compute_compensation" href="deltametrics.strat.compute_compensation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="deltametrics.strat.compute_thickness_surfaces.html" title="deltametrics.strat.compute_thickness_surfaces"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="deltametrics.strat.compute_compensation.html" title="deltametrics.strat.compute_compensation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">DeltaMetrics 0.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/strat/index.html" accesskey="U">Stratigraphy operations</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">deltametrics.strat.compute_net_to_gross</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="deltametrics-strat-compute-net-to-gross">
<h1>deltametrics.strat.compute_net_to_gross<a class="headerlink" href="#deltametrics-strat-compute-net-to-gross" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="deltametrics.strat.compute_net_to_gross">
<span class="sig-prename descclassname"><span class="pre">deltametrics.strat.</span></span><span class="sig-name descname"><span class="pre">compute_net_to_gross</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sediment_volume</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">net_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.strat.compute_net_to_gross" title="Link to this definition">¶</a></dt>
<dd><p>Compute net-to-gross for stratigraphy.</p>
<p>Computes a spatially-resolved net-to-gross for a deposit. This computation
is based on thresholding some data to indicate what volume is “net”
(usually grain size or sand fraction data). The first axis of the data is
assumed to be the vertical elevation dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sediment_volume</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">xarray</span></code> or <cite>ndarray</cite>) – The deposit voxel array. First dimension is vertical spatial dimension.</p></li>
<li><p><strong>net_threshold</strong> (<cite>float</cite>, optional) – Threshold to use for splitting out the “net”. Voxels with value
greater than or equal to <cite>net_threshold</cite> will be included in the net.
If no value is supplied, the unweighted midpoint of the <code class="xref py py-obj docutils literal notranslate"><span class="pre">sediment_volume</span></code>
distribution (i.e., <code class="docutils literal notranslate"><span class="pre">(max</span> <span class="pre">+</span> <span class="pre">min)/2</span></code>) will be used as the
threshold.</p></li>
<li><p><strong>background</strong> (<cite>xarray</cite>, <cite>ndarray</cite>, or <cite>float</cite>, optional) – Value indicating the background or basin voxels that should be
excluded from computation. If an array matching the size
of <code class="xref py py-obj docutils literal notranslate"><span class="pre">sediment_volume</span></code> is supplied, this array is assumed to be a
binary array indicating the voxels to be excluded (i.e., the
<cite>deposit</cite> is the inverse of <cite>background</cite>). If a float is passed, this
is treated as a “no-data” value, and used to determine the background
voxels. If no value is supplied, no voxels are excluded.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>net_to_gross</strong> – A spatially-resolved net-to-gross “map”.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ndarray</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">DataArray</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">golfcube</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">sample_data</span><span class="o">.</span><span class="n">golf</span><span class="p">()</span>
<span class="n">golfstrat</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">cube</span><span class="o">.</span><span class="n">StratigraphyCube</span><span class="o">.</span><span class="n">from_DataCube</span><span class="p">(</span><span class="n">golfcube</span><span class="p">,</span> <span class="n">dz</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">background</span> <span class="o">=</span> <span class="p">(</span><span class="n">golfstrat</span><span class="o">.</span><span class="n">Z</span> <span class="o">&lt;</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">golfcube</span><span class="p">[</span><span class="s1">&#39;eta&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>

<span class="n">net_to_gross</span> <span class="o">=</span> <span class="n">dm</span><span class="o">.</span><span class="n">strat</span><span class="o">.</span><span class="n">compute_net_to_gross</span><span class="p">(</span>
    <span class="n">golfstrat</span><span class="p">[</span><span class="s1">&#39;sandfrac&#39;</span><span class="p">],</span>
    <span class="n">net_threshold</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">background</span><span class="o">=</span><span class="n">background</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">im0</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span>
    <span class="n">net_to_gross</span><span class="p">,</span>
    <span class="n">extent</span><span class="o">=</span><span class="n">golfstrat</span><span class="o">.</span><span class="n">extent</span><span class="p">)</span>
<span class="n">dm</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">append_colorbar</span><span class="p">(</span><span class="n">im0</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">im1</span> <span class="o">=</span> <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span>
    <span class="n">net_to_gross</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="n">golfstrat</span><span class="o">.</span><span class="n">varset</span><span class="p">[</span><span class="s1">&#39;net_to_gross&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cmap</span><span class="p">,</span>
    <span class="n">norm</span><span class="o">=</span><span class="n">golfstrat</span><span class="o">.</span><span class="n">varset</span><span class="p">[</span><span class="s1">&#39;net_to_gross&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">norm</span><span class="p">,</span>
    <span class="n">extent</span><span class="o">=</span><span class="n">golfstrat</span><span class="o">.</span><span class="n">extent</span><span class="p">)</span>
<span class="n">dm</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">append_colorbar</span><span class="p">(</span><span class="n">im1</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="../_downloads/5daca7bcd036f6e185dd4be48dc6e2e9/deltametrics-strat-compute_net_to_gross-1.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="../_downloads/b65e564e835a1258231a59128073d1d4/deltametrics-strat-compute_net_to_gross-1.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>)</p>
<figure class="align-default">
<img alt="../_images/deltametrics-strat-compute_net_to_gross-1.png" class="plot-directive" src="../_images/deltametrics-strat-compute_net_to_gross-1.png" />
</figure>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">deltametrics.strat.compute_net_to_gross</a><ul>
<li><a class="reference internal" href="#deltametrics.strat.compute_net_to_gross"><code class="docutils literal notranslate"><span class="pre">compute_net_to_gross()</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="deltametrics.strat.compute_compensation.html"
                          title="previous chapter">deltametrics.strat.compute_compensation</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="deltametrics.strat.compute_thickness_surfaces.html"
                          title="next chapter">deltametrics.strat.compute_thickness_surfaces</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/_autosummary/deltametrics.strat.compute_net_to_gross.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="deltametrics.strat.compute_thickness_surfaces.html" title="deltametrics.strat.compute_thickness_surfaces"
             >next</a> |</li>
        <li class="right" >
          <a href="deltametrics.strat.compute_compensation.html" title="deltametrics.strat.compute_compensation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">DeltaMetrics 0.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/strat/index.html" >Stratigraphy operations</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">deltametrics.strat.compute_net_to_gross</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2020, The DeltaRCM Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>