<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>deltametrics.mobility.calculate_reworking_fraction &#8212; DeltaMetrics 0.4.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinxdoc.css?v=d59dc883" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=ff822928"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="deltametrics.mobility.calculate_channel_abandonment" href="deltametrics.mobility.calculate_channel_abandonment.html" />
    <link rel="prev" title="deltametrics.mobility.calculate_planform_overlap" href="deltametrics.mobility.calculate_planform_overlap.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="deltametrics.mobility.calculate_channel_abandonment.html" title="deltametrics.mobility.calculate_channel_abandonment"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="deltametrics.mobility.calculate_planform_overlap.html" title="deltametrics.mobility.calculate_planform_overlap"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">DeltaMetrics 0.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/mobility/index.html" accesskey="U">Channel mobility operations</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">deltametrics.mobility.calculate_reworking_fraction</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="deltametrics-mobility-calculate-reworking-fraction">
<h1>deltametrics.mobility.calculate_reworking_fraction<a class="headerlink" href="#deltametrics-mobility-calculate-reworking-fraction" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="deltametrics.mobility.calculate_reworking_fraction">
<span class="sig-prename descclassname"><span class="pre">deltametrics.mobility.</span></span><span class="sig-name descname"><span class="pre">calculate_reworking_fraction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chmap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">landmap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basevalues</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basevalues_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#deltametrics.mobility.calculate_reworking_fraction" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the reworking fraction.</p>
<p>Uses a method similar to that described in Wickert et al 2013 <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> to
measure the reworking of the fluvial surface with time. This requires an
input channel map, land map, as well as defining the base maps to use and
the time window over which you want to look.</p>
<p>The reworking fraction is calculated as:</p>
<div class="math notranslate nohighlight">
\[f_{R} = 1 - \frac{N'_{B,T}}{A \cdot f_{d,B}}\]</div>
<p>where <span class="math notranslate nohighlight">\(f_{R}\)</span> is the reworking fraction, <span class="math notranslate nohighlight">\(N'_{B,T}\)</span> is the
number of unreworked cells in the transient map, <span class="math notranslate nohighlight">\(A\)</span> is the area of
fluvial surface, and <span class="math notranslate nohighlight">\(f_{d,B}\)</span> is the dry fraction of the base map.</p>
<p><span class="math notranslate nohighlight">\(N'_{B,T}\)</span> is calculated as:</p>
<div class="math notranslate nohighlight">
\[N'_{B,T} = \sum_{i=1}^{m_r} \sum_{j=1}^{n_c} \left[ \left(\sum_{\beta = B+1}^{T} K'_{\beta} \right) \equiv 0 \right]\]</div>
<p>where <span class="math notranslate nohighlight">\(m_r\)</span> and <span class="math notranslate nohighlight">\(n_c\)</span> are the number of rows and columns in the
base map, <span class="math notranslate nohighlight">\(K'_{\beta}\)</span> is the channel mask at time <span class="math notranslate nohighlight">\(\beta\)</span> when
<span class="math notranslate nohighlight">\(\beta\)</span> is used for each time step after the baseline time. This
results in <span class="math notranslate nohighlight">\(N'_{B,T}\)</span> being the number of cells that are not
reworked at some transient time <span class="math notranslate nohighlight">\(T\)</span> relative to the base time
<span class="math notranslate nohighlight">\(B\)</span>.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Wickert, Andrew D., John M. Martin, Michal Tal, Wonsuck Kim,
Ben Sheets, and Chris Paola. “River channel lateral mobility:
Metrics, time scales, and controls.” Journal of Geophysical
Research: Earth Surface 118, no. 2 (2013): 396-412.</p>
</aside>
</aside>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chmap</strong> (<em>list</em><em>, </em><em>xarray.DataArray</em><em>, </em><em>numpy.ndarray</em>) – Either a list of 2-D deltametrics.mask, xarray.DataArray, or
numpy.ndarray objects, or a t-x-y 3-D xarray.DataArray or numpy.ndarray
with channel mask values.</p></li>
<li><p><strong>landmap</strong> (<em>list</em><em>, </em><em>xarray.DataArray</em><em>, </em><em>numpy.ndarray</em>) – Either a list of 2-D deltametrics.mask, xarray.DataArray, or
numpy.ndarray objects, or a t-x-y 3-D xarray.DataArray or numpy.ndarray
with land mask values.</p></li>
<li><p><strong>basevalues</strong> (<em>list</em><em>, </em><em>int</em><em>, </em><em>float</em><em>, </em><em>optional</em>) – List of time values to use as the base channel map. (or single value)</p></li>
<li><p><strong>basevalues_idx</strong> (<em>list</em><em>, </em><em>optional</em>) – List of time indices to use as the base channel map. (or single value)</p></li>
<li><p><strong>window</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>optional</em>) – Duration of time to use as the time lag (aka how far from the basemap
will be analyzed).</p></li>
<li><p><strong>window_idx</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>optional</em>) – Duration of time in terms of indices (# of save states) to use as the
time lag.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fr</strong> – A 2-D array of the reworked fraction values, array is of shape
len(basevalues) x time_window so each row in the array represents
the overlap values associated with a given base value and the
columns are associated with each time lag.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">deltametrics.mobility.calculate_reworking_fraction</a><ul>
<li><a class="reference internal" href="#deltametrics.mobility.calculate_reworking_fraction"><code class="docutils literal notranslate"><span class="pre">calculate_reworking_fraction()</span></code></a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="deltametrics.mobility.calculate_planform_overlap.html"
                          title="previous chapter">deltametrics.mobility.calculate_planform_overlap</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="deltametrics.mobility.calculate_channel_abandonment.html"
                          title="next chapter">deltametrics.mobility.calculate_channel_abandonment</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/_autosummary/deltametrics.mobility.calculate_reworking_fraction.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="deltametrics.mobility.calculate_channel_abandonment.html" title="deltametrics.mobility.calculate_channel_abandonment"
             >next</a> |</li>
        <li class="right" >
          <a href="deltametrics.mobility.calculate_planform_overlap.html" title="deltametrics.mobility.calculate_planform_overlap"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">DeltaMetrics 0.4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference/index.html" >API reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../reference/mobility/index.html" >Channel mobility operations</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">deltametrics.mobility.calculate_reworking_fraction</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2020, The DeltaRCM Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>